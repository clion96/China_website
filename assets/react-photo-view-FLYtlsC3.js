import{r as d,R as f}from"./react-NgmVmydq.js";import{r as Fn}from"./react-dom-S2jptM3C.js";function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},P.apply(this,arguments)}function kn(e,t){if(e==null)return{};var r,i,o={},c=Object.keys(e);for(i=0;i<c.length;i++)t.indexOf(r=c[i])>=0||(o[r]=e[r]);return o}function Ae(e){var t=d.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var r=Object.create(null);Object.keys(e).forEach(function(i){r[i]=function(){var o;return(o=t.fn[i]).call.apply(o,[t.fn].concat([].slice.call(arguments)))}}),t.curr=r}return t.curr}function bn(e){return d.useReducer(function(t,r){return P({},t,typeof r=="function"?r(t):r)},e)}var Hn=d.createContext(void 0),me=typeof window<"u"&&"ontouchstart"in window,Yn=function(e,t,r){return Math.max(Math.min(e,r),t)},Cn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),Yn(e,1*(1-r),Math.max(6,t)*(1+r))},Xn=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?d.useEffect:d.useLayoutEffect;function Ge(e,t,r){var i=d.useRef(t);i.current=t,d.useEffect(function(){function o(c){i.current(c)}return e&&window.addEventListener(e,o,r),function(){e&&window.removeEventListener(e,o)}},[e])}var On=["container"];function Bn(e){var t=e.container,r=t===void 0?document.body:t,i=kn(e,On);return Fn.createPortal(f.createElement("div",P({},i)),r)}function zn(e){return f.createElement("svg",P({width:"44",height:"44",viewBox:"0 0 768 768"},e),f.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function jn(e){return f.createElement("svg",P({width:"44",height:"44",viewBox:"0 0 768 768"},e),f.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function qn(e){return f.createElement("svg",P({width:"44",height:"44",viewBox:"0 0 768 768"},e),f.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Un(){return d.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function Vn(e){var t=e.touches[0],r=t.clientX,i=t.clientY;if(e.touches.length>=2){var o=e.touches[1],c=o.clientX,u=o.clientY;return[(r+c)/2,(i+u)/2,Math.sqrt(Math.pow(c-r,2)+Math.pow(u-i,2))]}return[r,i,0]}var Me=function(e,t,r,i){var o=r*t,c=(o-i)/2,u=void 0,l=e;return o<=i?(u=1,l=0):e>0&&c-e<=0?(u=2,l=c):e<0&&c+e<=0&&(u=3,l=-c),[u,l]};function Pn(e,t,r,i,o,c,u,l,m,v){u===void 0&&(u=innerWidth/2),l===void 0&&(l=innerHeight/2),m===void 0&&(m=0),v===void 0&&(v=0);var h=Me(e,c,r,innerWidth)[0],w=Me(t,c,i,innerHeight),_=innerWidth/2,M=innerHeight/2;return{x:u-c/o*(u-(_+e))-_+(i/r>=3&&r*c===innerWidth?0:h?m/2:m),y:l-c/o*(l-(M+t))-M+(w[0]?v/2:v),lastCX:u,lastCY:l}}function Nn(e,t,r){var i=e%180!=0;return i?[r,t,i]:[t,r,i]}function _n(e,t,r){var i=Nn(r,innerWidth,innerHeight),o=i[0],c=i[1],u=0,l=o,m=c,v=e/t*c,h=t/e*o;return e<o&&t<c?(l=e,m=t):e<o&&t>=c?l=v:e>=o&&t<c||e/t>o/c?m=h:t/e>=3&&!i[2]?u=((m=h)-c)/2:l=v,{width:l,height:m,x:0,y:u,pause:!0}}function En(e,t){var r=t.leading,i=r!==void 0&&r,o=t.maxWait,c=t.wait,u=c===void 0?o||0:c,l=d.useRef(e);l.current=e;var m=d.useRef(0),v=d.useRef(),h=function(){return v.current&&clearTimeout(v.current)},w=d.useCallback(function(){var _=[].slice.call(arguments),M=Date.now();function I(){m.current=M,h(),l.current.apply(null,_)}var b=m.current,C=M-b;if(b===0&&(i&&I(),m.current=M),o!==void 0){if(C>o)return void I()}else C<u&&(m.current=M);h(),v.current=setTimeout(function(){I(),m.current=0},u)},[u,o,i]);return w.cancel=h,w}var In=function(e,t,r){return Ie(e,t,r,100,function(i){return i},function(){return Ie(t,e,r)})},Kn=function(e){return 1-Math.pow(1-e,4)};function Ie(e,t,r,i,o,c){i===void 0&&(i=400),o===void 0&&(o=Kn);var u=t-e;if(u!==0){var l=Date.now(),m=0,v=function(){var w=Math.min(1,(Date.now()-l)/i);r(e+o(w)*u)&&w<1?h():(cancelAnimationFrame(m),w>=1&&c&&c())};h()}function h(){m=requestAnimationFrame(v)}}var Gn={T:0,L:0,W:0,H:0,FIT:void 0},Ln=function(){var e=d.useRef(!1);return d.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Jn=["className"];function Qn(e){var t=e.className,r=kn(e,Jn);return f.createElement("div",P({className:"PhotoView__Spinner "+t},r),f.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},f.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),f.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Zn=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function $n(e){var t=e.src,r=e.loaded,i=e.broken,o=e.className,c=e.onPhotoLoad,u=e.loadingElement,l=e.brokenElement,m=kn(e,Zn),v=Ln();return t&&!i?f.createElement(f.Fragment,null,f.createElement("img",P({className:"PhotoView__Photo"+(o?" "+o:""),src:t,onLoad:function(h){var w=h.target;v.current&&c({loaded:!0,naturalWidth:w.naturalWidth,naturalHeight:w.naturalHeight})},onError:function(){v.current&&c({broken:!0})},alt:""},m)),!r&&(f.createElement("span",{className:"PhotoView__icon"},u)||f.createElement(Qn,{className:"PhotoView__icon"}))):l?f.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:t}):l):null}var et={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function nt(e){var t=e.item,r=t.src,i=t.render,o=t.width,c=o===void 0?0:o,u=t.height,l=u===void 0?0:u,m=t.originRef,v=e.visible,h=e.speed,w=e.easing,_=e.wrapClassName,M=e.className,I=e.style,b=e.loadingElement,C=e.brokenElement,Y=e.onPhotoTap,z=e.onMaskTap,Je=e.onReachMove,He=e.onReachUp,Mn=e.onPhotoResize,L=e.isActive,ge=e.expose,un=bn(et),p=un[0],E=un[1],Le=d.useRef(0),De=Ln(),ln=p.naturalWidth,ie=ln===void 0?c:ln,W=p.naturalHeight,S=W===void 0?l:W,Qe=p.width,j=Qe===void 0?c:Qe,sn=p.height,pe=sn===void 0?l:sn,Ze=p.loaded,$e=Ze===void 0?!r:Ze,Re=p.broken,D=p.x,oe=p.y,q=p.touched,Rn=p.stopRaf,we=p.maskTouched,U=p.rotate,X=p.scale,dn=p.CX,Fe=p.CY,Pe=p.lastX,en=p.lastY,x=p.lastCX,fn=p.lastCY,$=p.lastScale,_e=p.touchTime,vn=p.touchLength,K=p.pause,Ye=p.reach,nn=Ae({onScale:function(n){return ae(Cn(n))},onRotate:function(n){U!==n&&(ge({rotate:n}),E(P({rotate:n},_n(ie,S,n))))}});function ae(n,a,g){X!==n&&(ge({scale:n}),E(P({scale:n},Pn(D,oe,j,pe,X,n,a,g),n<=1&&{x:0,y:0})))}var hn=En(function(n,a,g){if(g===void 0&&(g=0),(q||we)&&L){var Xe=Nn(U,j,pe),ce=Xe[0],G=Xe[1];if(g===0&&Le.current===0){var N=Math.abs(n-dn)<=20,H=Math.abs(a-Fe)<=20;if(N&&H)return void E({lastCX:n,lastCY:a});Le.current=N?a>Fe?3:2:1}var Ne=n-x,We=a-fn,J=void 0;if(g===0){var Se=Me(Ne+Pe,X,ce,innerWidth)[0],ze=Me(We+en,X,G,innerHeight);J=function(Ce,le,se,te){return le&&Ce===1||te==="x"?"x":se&&Ce>1||te==="y"?"y":void 0}(Le.current,Se,ze[0],Ye),J!==void 0&&Je(J,n,a,X)}if(J==="x"||we)return void E({reach:"x"});var ue=Cn(X+(g-vn)/100/2*X,ie/j,.2);ge({scale:ue}),E(P({touchLength:g,reach:J,scale:ue},Pn(D,oe,j,pe,X,ue,n,a,Ne,We)))}},{maxWait:8});function tn(n){return!Rn&&!q&&(De.current&&E(P({},n,{pause:v})),De.current)}var ye,ee,xe,rn,mn,gn,pn,A,wn=(mn=function(n){return tn({x:n})},gn=function(n){return tn({y:n})},pn=function(n){return De.current&&(ge({scale:n}),E({scale:n})),!q&&De.current},A=Ae({X:function(n){return mn(n)},Y:function(n){return gn(n)},S:function(n){return pn(n)}}),function(n,a,g,Xe,ce,G,N,H,Ne,We,J){var Se=Nn(We,ce,G),ze=Se[0],ue=Se[1],Ce=Me(n,H,ze,innerWidth),le=Ce[0],se=Ce[1],te=Me(a,H,ue,innerHeight),je=te[0],xn=te[1],qe=Date.now()-J;if(qe>=200||H!=N||Math.abs(Ne-N)>1){var Ee=Pn(n,a,ce,G,N,H),de=Ee.x,Te=Ee.y,F=le?se:de!==n?de:null,Ue=je?xn:Te!==a?Te:null;return F!==null&&Ie(n,F,A.X),Ue!==null&&Ie(a,Ue,A.Y),void(H!=N&&Ie(N,H,A.S))}var Ve=(n-g)/qe,be=(a-Xe)/qe,ke=Math.sqrt(Math.pow(Ve,2)+Math.pow(be,2)),fe=!1,ve=!1;(function(Q,T){var V=Q,he=0,Z=void 0,O=0,Ke=function(an){Z||(Z=an);var cn=an-Z,Wn=Math.sign(Q),Sn=-.001*Wn,Tn=Math.sign(-V)*Math.pow(V,2)*2e-4,Dn=V*cn+(Sn+Tn)*Math.pow(cn,2)/2;he+=Dn,Z=an,Wn*(V+=(Sn+Tn)*cn)<=0?B():T(he)?re():B()};function re(){O=requestAnimationFrame(Ke)}function B(){cancelAnimationFrame(O)}re()})(ke,function(Q){var T=n+Q*(Ve/ke),V=a+Q*(be/ke),he=Me(T,N,ze,innerWidth),Z=he[0],O=he[1],Ke=Me(V,N,ue,innerHeight),re=Ke[0],B=Ke[1];if(Z&&!fe&&(fe=!0,le?Ie(T,O,A.X):In(O,T+(T-O),A.X)),re&&!ve&&(ve=!0,je?Ie(V,B,A.Y):In(B,V+(V-B),A.Y)),fe&&ve)return!1;var an=fe||A.X(O),cn=ve||A.Y(B);return an&&cn})}),Oe=(ye=Y,ee=function(n,a){Ye||ae(X!==1?1:Math.max(2,ie/j),n,a)},xe=d.useRef(0),rn=En(function(){xe.current=0,ye.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var n=[].slice.call(arguments);xe.current+=1,rn.apply(void 0,n),xe.current>=2&&(rn.cancel(),xe.current=0,ee.apply(void 0,n))});function Be(n,a){if(Le.current=0,(q||we)&&L){E({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var g=Cn(X,ie/j);if(wn(D,oe,Pe,en,j,pe,X,g,$,U,_e),He(n,a),dn===n&&Fe===a){if(q)return void Oe(n,a);we&&z(n,a)}}}function on(n,a,g){g===void 0&&(g=0),E({touched:!0,CX:n,CY:a,lastCX:n,lastCY:a,lastX:D,lastY:oe,lastScale:X,touchLength:g,touchTime:Date.now()})}function yn(n){E({maskTouched:!0,CX:n.clientX,CY:n.clientY,lastX:D,lastY:oe})}Ge(me?void 0:"mousemove",function(n){n.preventDefault(),hn(n.clientX,n.clientY)}),Ge(me?void 0:"mouseup",function(n){Be(n.clientX,n.clientY)}),Ge(me?"touchmove":void 0,function(n){n.preventDefault();var a=Vn(n);hn.apply(void 0,a)},{passive:!1}),Ge(me?"touchend":void 0,function(n){var a=n.changedTouches[0];Be(a.clientX,a.clientY)},{passive:!1}),Ge("resize",En(function(){$e&&!q&&(E(_n(ie,S,U)),Mn())},{maxWait:8})),Xn(function(){L&&ge(P({scale:X,rotate:U},nn))},[L]);var ne=function(n,a,g,Xe,ce,G,N,H,Ne,We){var J=function(de,Te,F,Ue,Ve){var be=d.useRef(!1),ke=bn({lead:!0,scale:F}),fe=ke[0],ve=fe.lead,Q=fe.scale,T=ke[1],V=En(function(he){try{return Ve(!0),T({lead:!1,scale:he}),Promise.resolve()}catch(Z){return Promise.reject(Z)}},{wait:Ue});return Xn(function(){be.current?(Ve(!1),T({lead:!0}),V(F)):be.current=!0},[F]),ve?[de*Q,Te*Q,F/Q]:[de*F,Te*F,1]}(G,N,H,Ne,We),Se=J[0],ze=J[1],ue=J[2],Ce=function(de,Te,F,Ue,Ve){var be=d.useState(Gn),ke=be[0],fe=be[1],ve=d.useState(0),Q=ve[0],T=ve[1],V=d.useRef(),he=Ae({OK:function(){return de&&T(4)}});function Z(O){Ve(!1),T(O)}return d.useEffect(function(){if(V.current||(V.current=Date.now()),F){if(function(O,Ke){var re=O&&O.current;if(re&&re.nodeType===1){var B=re.getBoundingClientRect();Ke({T:B.top,L:B.left,W:B.width,H:B.height,FIT:re.tagName==="IMG"?getComputedStyle(re).objectFit:void 0})}}(Te,fe),de)return Date.now()-V.current<250?(T(1),requestAnimationFrame(function(){T(2),requestAnimationFrame(function(){return Z(3)})}),void setTimeout(he.OK,Ue)):void T(4);Z(5)}},[de,F]),[Q,ke]}(n,a,g,Ne,We),le=Ce[0],se=Ce[1],te=se.W,je=se.FIT,xn=innerWidth/2,qe=innerHeight/2,Ee=le<3||le>4;return[Ee?te?se.L:xn:Xe+(xn-G*H/2),Ee?te?se.T:qe:ce+(qe-N*H/2),Se,Ee&&je?Se*(se.H/te):ze,le===0?ue:Ee?te/(G*H)||.01:ue,Ee?je?1:0:1,le,je]}(v,m,$e,D,oe,j,pe,X,h,function(n){return E({pause:n})}),s=ne[4],y=ne[6],R="transform "+h+"ms "+w,k={className:M,onMouseDown:me?void 0:function(n){n.stopPropagation(),n.button===0&&on(n.clientX,n.clientY,0)},onTouchStart:me?function(n){n.stopPropagation(),on.apply(void 0,Vn(n))}:void 0,onWheel:function(n){if(!Ye){var a=Cn(X-n.deltaY/100/2,ie/j);E({stopRaf:!0}),ae(a,n.clientX,n.clientY)}},style:{width:ne[2],height:ne[3],opacity:ne[5],objectFit:y===4?void 0:ne[7],transform:U?"rotate("+U+"deg)":void 0,transition:y>2?R+", opacity "+h+"ms ease, height "+(y<4?h/2:y>4?h:0)+"ms "+w:void 0}};return f.createElement("div",{className:"PhotoView__PhotoWrap"+(_?" "+_:""),style:I,onMouseDown:!me&&L?yn:void 0,onTouchStart:me&&L?function(n){return yn(n.touches[0])}:void 0},f.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+s+", 0, 0, "+s+", "+ne[0]+", "+ne[1]+")",transition:q||K?void 0:R,willChange:L?"transform":void 0}},r?f.createElement($n,P({src:r,loaded:$e,broken:Re},k,{onPhotoLoad:function(n){E(P({},n,n.loaded&&_n(n.naturalWidth||0,n.naturalHeight||0,U)))},loadingElement:b,brokenElement:C})):i&&i({attrs:k,scale:s,rotate:U})))}var An={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function tt(e){var t=e.loop,r=t===void 0?3:t,i=e.speed,o=e.easing,c=e.photoClosable,u=e.maskClosable,l=u===void 0||u,m=e.maskOpacity,v=m===void 0?1:m,h=e.pullClosable,w=h===void 0||h,_=e.bannerVisible,M=_===void 0||_,I=e.overlayRender,b=e.toolbarRender,C=e.className,Y=e.maskClassName,z=e.photoClassName,Je=e.photoWrapClassName,He=e.loadingElement,Mn=e.brokenElement,L=e.images,ge=e.index,un=ge===void 0?0:ge,p=e.onIndexChange,E=e.visible,Le=e.onClose,De=e.afterClose,ln=e.portalContainer,ie=bn(An),W=ie[0],S=ie[1],Qe=d.useState(0),j=Qe[0],sn=Qe[1],pe=W.x,Ze=W.touched,$e=W.pause,Re=W.lastCX,D=W.lastCY,oe=W.bg,q=oe===void 0?v:oe,Rn=W.lastBg,we=W.overlay,U=W.minimal,X=W.scale,dn=W.rotate,Fe=W.onScale,Pe=W.onRotate,en=e.hasOwnProperty("index"),x=en?un:j,fn=en?p:sn,$=d.useRef(x),_e=L.length,vn=L[x],K=typeof r=="boolean"?r:_e>r,Ye=function(s,y){var R=d.useReducer(function(g){return!g},!1)[1],k=d.useRef(0),n=function(g,Xe){var ce=d.useRef(g);function G(N){ce.current=N}return d.useMemo(function(){(function(N){s?(N(s),k.current=1):k.current=2})(G)},[g]),[ce.current,G]}(s),a=n[1];return[n[0],k.current,function(){R(),k.current===2&&(a(!1),y&&y()),k.current=0}]}(E,De),nn=Ye[0],ae=Ye[1],hn=Ye[2];Xn(function(){if(nn)return S({pause:!0,x:x*-(innerWidth+20)}),void($.current=x);S(An)},[nn]);var tn=Ae({close:function(s){Pe&&Pe(0),S({overlay:!0,lastBg:q}),Le(s)},changeIndex:function(s,y){y===void 0&&(y=!1);var R=K?$.current+(s-x):s,k=_e-1,n=Yn(R,0,k),a=K?R:n,g=innerWidth+20;S({touched:!1,lastCX:void 0,lastCY:void 0,x:-g*a,pause:y}),$.current=a,fn&&fn(K?s<0?k:s>k?0:s:n)}}),ye=tn.close,ee=tn.changeIndex;function xe(s){return s?ye():S({overlay:!we})}function rn(){S({x:-(innerWidth+20)*x,lastCX:void 0,lastCY:void 0,pause:!0}),$.current=x}function mn(s,y,R,k){s==="x"?function(n){if(Re!==void 0){var a=n-Re,g=a;!K&&(x===0&&a>0||x===_e-1&&a<0)&&(g=a/2),S({touched:!0,lastCX:Re,x:-(innerWidth+20)*$.current+g,pause:!1})}else S({touched:!0,lastCX:n,x:pe,pause:!1})}(y):s==="y"&&function(n,a){if(D!==void 0){var g=v===null?null:Yn(v,.01,v-Math.abs(n-D)/100/4);S({touched:!0,lastCY:D,bg:a===1?g:v,minimal:a===1})}else S({touched:!0,lastCY:n,bg:q,minimal:!0})}(R,k)}function gn(s,y){var R=s-(Re??s),k=y-(D??y),n=!1;if(R<-40)ee(x+1);else if(R>40)ee(x-1);else{var a=-(innerWidth+20)*$.current;Math.abs(k)>100&&U&&w&&(n=!0,ye()),S({touched:!1,x:a,lastCX:void 0,lastCY:void 0,bg:v,overlay:!!n||we})}}Ge("keydown",function(s){if(E)switch(s.key){case"ArrowLeft":ee(x-1,!0);break;case"ArrowRight":ee(x+1,!0);break;case"Escape":ye()}});var pn=function(s,y,R){return d.useMemo(function(){var k=s.length;return R?s.concat(s).concat(s).slice(k+y-1,k+y+2):s.slice(Math.max(y-1,0),Math.min(y+2,k+1))},[s,y,R])}(L,x,K);if(!nn)return null;var A=we&&!ae,wn=E?q:Rn,Oe=Fe&&Pe&&{images:L,index:x,visible:E,onClose:ye,onIndexChange:ee,overlayVisible:A,overlay:vn&&vn.overlay,scale:X,rotate:dn,onScale:Fe,onRotate:Pe},Be=i?i(ae):400,on=o?o(ae):"cubic-bezier(0.25, 0.8, 0.25, 1)",yn=i?i(3):600,ne=o?o(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return f.createElement(Bn,{className:"PhotoView-Portal"+(A?"":" PhotoView-Slider__clean")+(E?"":" PhotoView-Slider__willClose")+(C?" "+C:""),role:"dialog",onClick:function(s){return s.stopPropagation()},container:ln},E&&f.createElement(Un,null),f.createElement("div",{className:"PhotoView-Slider__Backdrop"+(Y?" "+Y:"")+(ae===1?" PhotoView-Slider__fadeIn":ae===2?" PhotoView-Slider__fadeOut":""),style:{background:wn?"rgba(0, 0, 0, "+wn+")":void 0,transitionTimingFunction:on,transitionDuration:(Ze?0:Be)+"ms",animationDuration:Be+"ms"},onAnimationEnd:hn}),M&&f.createElement("div",{className:"PhotoView-Slider__BannerWrap"},f.createElement("div",{className:"PhotoView-Slider__Counter"},x+1," / ",_e),f.createElement("div",{className:"PhotoView-Slider__BannerRight"},b&&Oe&&b(Oe),f.createElement(zn,{className:"PhotoView-Slider__toolbarIcon",onClick:ye}))),pn.map(function(s,y){var R=K||x!==0?$.current-1+y:x+y;return f.createElement(nt,{key:K?s.key+"/"+s.src+"/"+R:s.key,item:s,speed:Be,easing:on,visible:E,onReachMove:mn,onReachUp:gn,onPhotoTap:function(){return xe(c)},onMaskTap:function(){return xe(l)},wrapClassName:Je,className:z,style:{left:(innerWidth+20)*R+"px",transform:"translate3d("+pe+"px, 0px, 0)",transition:Ze||$e?void 0:"transform "+yn+"ms "+ne},loadingElement:He,brokenElement:Mn,onPhotoResize:rn,isActive:$.current===R,expose:S})}),!me&&M&&f.createElement(f.Fragment,null,(K||x!==0)&&f.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ee(x-1,!0)}},f.createElement(jn,null)),(K||x+1<_e)&&f.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ee(x+1,!0)}},f.createElement(qn,null))),I&&Oe&&f.createElement("div",{className:"PhotoView-Slider__Overlay"},I(Oe)))}var rt=["children","onIndexChange","onVisibleChange"],it={images:[],visible:!1,index:0};function ct(e){var t=e.children,r=e.onIndexChange,i=e.onVisibleChange,o=kn(e,rt),c=bn(it),u=c[0],l=c[1],m=d.useRef(0),v=u.images,h=u.visible,w=u.index,_=Ae({nextId:function(){return m.current+=1},update:function(b){var C=v.findIndex(function(z){return z.key===b.key});if(C>-1){var Y=v.slice();return Y.splice(C,1,b),void l({images:Y})}l(function(z){return{images:z.images.concat(b)}})},remove:function(b){l(function(C){var Y=C.images.filter(function(z){return z.key!==b});return{images:Y,index:Math.min(Y.length-1,w)}})},show:function(b){var C=v.findIndex(function(Y){return Y.key===b});l({visible:!0,index:C}),i&&i(!0,C,u)}}),M=Ae({close:function(){l({visible:!1}),i&&i(!1,w,u)},changeIndex:function(b){l({index:b}),r&&r(b,u)}}),I=d.useMemo(function(){return P({},u,_)},[u,_]);return f.createElement(Hn.Provider,{value:I},t,f.createElement(tt,P({images:v,visible:h,index:w,onIndexChange:M.changeIndex,onClose:M.close},o)))}var ut=function(e){var t,r,i=e.src,o=e.render,c=e.overlay,u=e.width,l=e.height,m=e.triggers,v=m===void 0?["onClick"]:m,h=e.children,w=d.useContext(Hn),_=(t=function(){return w.nextId()},(r=d.useRef({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=t()),r.fn),M=d.useRef(null);d.useImperativeHandle(h==null?void 0:h.ref,function(){return M.current}),d.useEffect(function(){return function(){w.remove(_)}},[]);var I=Ae({render:function(C){return o&&o(C)},show:function(C,Y){w.show(_),function(z,Je){if(h){var He=h.props[z];He&&He(Je)}}(C,Y)}}),b=d.useMemo(function(){var C={};return v.forEach(function(Y){C[Y]=I.show.bind(null,Y)}),C},[]);return d.useEffect(function(){w.update({key:_,src:i,originRef:M,render:I.render,overlay:c,width:u,height:l})},[i]),h?d.Children.only(d.cloneElement(h,P({},b,{ref:M}))):null};export{ct as Q,ut as Z};
